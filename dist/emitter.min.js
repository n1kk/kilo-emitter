"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class Emitter{static extend(t){let e;return t&&"object"==typeof t&&(e=new Emitter,["$evt","on","off","once","emit","triggers"].forEach(r=>{t[r]=e[r]})),t}constructor(){this.$evt={}}on(t,e,r,i){let s,n=this.$evt;return t&&e&&(e.$ctx=r,(s=n[t])?(this.off(t,e),i?s.unshift(e):s.push(e)):s=[e],n[t]=s),this}once(t,e,r,i){return t&&e&&(e.$once=!0,this.on(t,e,r,i)),this}off(t,e){let r,i,s=arguments.length,n=this.$evt;return 0===s?this.$evt={}:1===s?delete n[t]:(r=(i=n[t])?i.indexOf(e):-1)>-1&&(i.splice(r,1),i.length||delete n[t]),this}emit(t,...e){let r,i,s,n,o=this.$evt[t];if(o&&(n=o.length))for(o=o.slice(),r=0;r<n&&(i=(s=o[r]).apply(s.$ctx,e),s.$once&&(this.off(t,s),delete s.$once),!1!==i);r++);return this}triggers(t,e){let r,i=arguments.length,s=this.$evt;return i?!!(r=s[t])&&(!(i>1)||r.indexOf(e)>-1):!!Object.getOwnPropertyNames(s).length}}exports.default=Emitter;