"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class Emitter{static extend(t){let e;return t&&"object"==typeof t&&(e=new Emitter,["$evt","on","off","once","emit","triggers"].forEach(i=>{t[i]=e[i]})),t}constructor(){this.$evt={}}on(t,e,i,r){let s,n=this.$evt;return t&&e&&(e.$ctx=i,(s=n[t])?(this.off(t,e),r?s.unshift(e):s.push(e)):s=[e],n[t]=s),this}once(t,e,i,r){return t&&e&&(e.$once=!0,this.on(t,e,i,r)),this}off(t,e){let i,r,s=arguments.length,n=this.$evt;return 0===s?this.$evt={}:1===s?delete n[t]:(i=(r=n[t])?r.indexOf(e):-1)>-1&&(r.splice(i,1),r.length||delete n[t]),this}emit(t){let e,i,r,s,n=arguments,l=this.$evt[t];if(l&&(s=l.length))for(l=l.slice(),n=n.length>1?[].slice.call(n,1):[],e=0;e<s&&(i=(r=l[e]).apply(r.$ctx,n),r.$once&&(this.off(t,r),delete r.$once),!1!==i);e++);return this}triggers(t,e){let i,r=arguments.length,s=this.$evt;return r?!!(i=s[t])&&(!(r>1)||i.indexOf(e)>-1):!!Object.getOwnPropertyNames(s).length}}exports.Emitter=Emitter;