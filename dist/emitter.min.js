"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class Emitter{static extend(e){let t;return e&&"object"==typeof e&&(t=new Emitter,["$evt","on","off","once","emit","triggers"].forEach(i=>{e[i]=t[i]})),e}constructor(){this.$evt={}}on(e,t,i,r){let s,n=this.$evt;return e&&t&&(t.$ctx=i,(s=n[e])?(this.off(e,t),r?s.unshift(t):s.push(t)):s=[t],n[e]=s),this}once(e,t,i,r){return e&&t&&(t.$once=!0,this.on(e,t,i,r)),this}off(e,t){let i,r,s=arguments.length,n=this.$evt;return 0===s?this.$evt={}:1===s?delete n[e]:(i=(r=n[e])?r.indexOf(t):-1)>-1&&(r.splice(i,1),r.length||delete n[e]),this}emit(e,...t){let i,r,s,n,l=this.$evt[e];if(l&&(n=l.length))for(l=l.slice(),t=t.length>1?[].slice.call(t,1):[],i=0;i<n&&(r=(s=l[i]).apply(s.$ctx,t),s.$once&&(this.off(e,s),delete s.$once),!1!==r);i++);return this}triggers(e,t){let i,r=arguments.length,s=this.$evt;return r?!!(i=s[e])&&(!(r>1)||i.indexOf(t)>-1):!!Object.getOwnPropertyNames(s).length}}exports.default=Emitter;