!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports"],e)}(function(e,t){"use strict";t.__esModule=!0;var n=function(){function e(){this.$evt={}}return e.extend=function(t){var n;return t&&"object"==typeof t&&(n=new e,["$evt","on","off","once","emit","triggers"].forEach(function(e){t[e]=n[e]})),t},e.prototype.on=function(e,t,n,o){var i,r=this.$evt;return e&&t&&(t.$ctx=n,(i=r[e])?(this.off(e,t),o?i.unshift(t):i.push(t)):i=[t],r[e]=i),this},e.prototype.once=function(e,t,n,o){return e&&t&&(t.$once=!0,this.on(e,t,n,o)),this},e.prototype.off=function(e,t){var n,o,i=arguments.length,r=this.$evt;return 0===i?this.$evt={}:1===i?delete r[e]:-1<(n=(o=r[e])?o.indexOf(t):-1)&&(o.splice(n,1),o.length||delete r[e]),this},e.prototype.emit=function(e){var t,n,o,i=arguments,r=this.$evt[e];if(r&&(o=r.length))for(r=r.slice(),i=1<i.length?[].slice.call(i,1):[],t=0;t<o;t++)"stopEmit"===(n=r[t]).apply(n.$ctx,i)&&(t=o),n.$once&&(this.off(e,n),delete n.$once);return this},e.prototype.triggers=function(e,t){var n,o=arguments.length,i=this.$evt;return o?!!(n=i[e])&&(!(1<o)||-1<n.indexOf(t)):!!Object.getOwnPropertyNames(i).length},e}();t.default=n});